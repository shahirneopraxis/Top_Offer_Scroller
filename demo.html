<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Top Offer Scroller - Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f5f5f5;
    }
    
    .demo-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 60px 20px;
      text-align: center;
    }
    
    .demo-header h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
    }
    
    .demo-header p {
      font-size: 1.1rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .demo-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .demo-section h2 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: #2d3748;
      border-bottom: 3px solid #667eea;
      padding-bottom: 0.5rem;
    }
    
    .demo-section h3 {
      font-size: 1.3rem;
      margin: 2rem 0 1rem;
      color: #4a5568;
    }
    
    .demo-section p {
      margin-bottom: 1rem;
      color: #4a5568;
    }
    
    .code-block {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1rem 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    .code-block code {
      color: #9cdcfe;
    }
    
    .demo-spacer {
      height: 100px;
      background: linear-gradient(to bottom, #f5f5f5, #e5e5e5);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 30px 0;
      border-radius: 8px;
      font-weight: 600;
      color: #666;
    }
    
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 2rem 0;
    }
    
    .feature-card {
      background: #f7fafc;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    
    .feature-card h4 {
      color: #2d3748;
      margin-bottom: 0.5rem;
    }
    
    .feature-card p {
      color: #718096;
      font-size: 0.9rem;
      margin: 0;
    }
    
    .controls {
      background: #edf2f7;
      padding: 20px;
      border-radius: 8px;
      margin: 2rem 0;
    }
    
    .controls button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      margin-right: 10px;
      margin-bottom: 10px;
      transition: background 0.2s;
    }
    
    .controls button:hover {
      background: #5568d3;
    }
    
    .event-log {
      background: #1a202c;
      color: #68d391;
      padding: 15px;
      border-radius: 6px;
      font-family: monospace;
      font-size: 0.85rem;
      max-height: 200px;
      overflow-y: auto;
      margin-top: 1rem;
    }
    
    .event-log div {
      margin-bottom: 5px;
      padding: 3px 0;
      border-bottom: 1px solid #2d3748;
    }
    
    .badge {
      display: inline-block;
      background: #48bb78;
      color: white;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: 10px;
    }
    
    @media (max-width: 768px) {
      .demo-header h1 {
        font-size: 2rem;
      }
      
      .container {
        padding: 20px 15px;
      }
      
      .demo-section {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- 
    Example 1: Top placement with slide animation and custom typography
    
    ATTRIBUTE OPTIONS:
    - data-items: Array of offer items. Each item can have:
        * text (required): The message text
        * link (optional): URL to link to
        * target (optional): "_blank", "_self", "_parent", "_top"
        * html (optional): true/false - whether to render HTML in text
    
    - data-animation: Animation type
        * "scroll" - continuous scrolling
        * "slide" - slide between items
    
    - data-slide-duration: Duration in milliseconds for slide animation
        * Only applies when data-animation="slide"
        * Example: "3000" for 3 seconds
    
    - data-bg: Background color
        * Any valid CSS color: hex (#0b76ff), rgb, rgba, named colors, gradients
    
    - data-color: Text color
        * Any valid CSS color: hex, rgb, rgba, named colors
    
    - data-closeable: Show close button
        * "true" or "false"
    
    - data-placement: Position on page
        * "top" or "bottom"
    
    - data-font-family: Font family
        * Any valid CSS font-family value
    
    - data-font-size: Font size
        * Any valid CSS font-size value (px, em, rem, %, etc.)
    
    - data-font-weight: Font weight
        * CSS font-weight values: 100, 200, 300, 400, 500, 600, 700, 800, 900
        * Or: "normal", "bold", "lighter", "bolder"
    
    - data-letter-spacing: Letter spacing
        * Any valid CSS letter-spacing value (px, em, rem, etc.)
    
    - data-pause-on-hover: Pause animation on hover
        * "true" or "false"
    
    - data-show-link-underline: Show underline on links when hovering
        * "true" or "false"
    
    - data-show-hover-border: Show border on hover
        * "true" or "false"
    
    - data-always-show-underline: Always show underline on links (not just on hover)
        * "true" or "false"
    
    - data-height: Custom height for the bar
        * Any valid CSS height value (px, em, rem, vh, %, etc.)
        * Examples: "50px", "3rem", "10vh"
        * Leave empty for auto height based on content
  -->
  <offer-scroller
    data-items='[
      {"text":"🎉 Free shipping on orders over $50","link":"/collections/sale"},
      {"text":"💰 20% off with code SAVE20"},
      {"text":"🚀 New arrivals just dropped!","link":"/collections/new"},
      {"text":"🚀 New arrivals! <a href=\"/new\" style=\"text-decoration:underline;color:inherit;\">click here </a>","html":true}
    ]'
    data-animation="slide"
    data-speed="100"
    data-slide-duration="3000"
    data-bg="#0b76ff"
    data-color="#ffffff"
    data-closeable="true"
    data-placement="top"
    data-font-family="'Inter', -apple-system, sans-serif"
    data-font-size="15px"
    data-font-weight="400"
    data-letter-spacing="0.02em"
    data-pause-on-hover="false"
    data-show-link-underline="true"
    data-show-hover-border="false"
    data-always-show-underline="true"
    data-height="40px"
  ></offer-scroller>

  <div class="demo-header">
    <h1>Top Offer Scroller</h1>
    <p>A lightweight, accessible, embeddable web component for displaying promotional offers and announcements</p>
  </div>

  <div class="container">
    <!-- Introduction -->
    <div class="demo-section">
      <h2>🎯 Overview</h2>
      <p>
        The Top Offer Scroller is a production-ready web component built with vanilla JavaScript and Shadow DOM.
        It provides a seamless way to display scrolling promotional messages on your website with zero dependencies.
      </p>
      
      <div class="feature-grid">
        <div class="feature-card">
          <h4>🪶 Lightweight</h4>
          <p>Under 12KB gzipped with zero runtime dependencies</p>
        </div>
        <div class="feature-card">
          <h4>♿ Accessible</h4>
          <p>ARIA labels, keyboard navigation, reduced-motion support</p>
        </div>
        <div class="feature-card">
          <h4>🎨 Customizable</h4>
          <p>CSS custom properties and attribute-based configuration</p>
        </div>
        <div class="feature-card">
          <h4>📱 Responsive</h4>
          <p>Mobile-friendly with proper tap targets</p>
        </div>
        <div class="feature-card">
          <h4>🔒 Isolated</h4>
          <p>Shadow DOM prevents CSS/JS conflicts</p>
        </div>
        <div class="feature-card">
          <h4>⚡ Performant</h4>
          <p>CSS-based animation with GPU acceleration</p>
        </div>
      </div>
    </div>

    <!-- Installation -->
    <div class="demo-section">
      <h2>📦 Installation</h2>
      <p>Add the script to your HTML and drop in the custom element:</p>
      
      <div class="code-block">
<code>&lt;!-- Load the widget --&gt;
&lt;script async src="https://cdn.example.com/offer-scroller.min.js"&gt;&lt;/script&gt;

&lt;!-- Add to your page --&gt;
&lt;offer-scroller
  data-items='[
    {"text":"Free shipping over $50","link":"/collections/sale"},
    {"text":"20% off — code: SAVE20","link":"/discounts"}
  ]'
  data-speed="12"
  data-bg="#111"
  data-color="#fff"
  data-closeable="true"
&gt;&lt;/offer-scroller&gt;</code>
      </div>
    </div>

    <!-- Examples -->
    <div class="demo-section">
      <h2>🎨 Examples</h2>
      
      <h3>Example 1: Default Style (Top of Page)</h3>
      <p>The scroller at the very top of this page demonstrates the default top placement with a blue theme.</p>
      
      <h3>Example 2: Dark Theme</h3>
      <offer-scroller
        data-items='[
          {"text":"⚡ Flash Sale: 50% off everything","link":"#sale"},
          {"text":"🎁 Buy 2 Get 1 Free","link":"#promo"},
          {"text":"🌟 Limited time offer ends tonight!","link":"#urgent"}
        ]'
        data-speed="10"
        data-bg="#1a202c"
        data-color="#f7fafc"
        data-closeable="rue"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 3: Gradient Background (Custom CSS Properties)</h3>
      <offer-scroller
        data-items='[
          {"text":"Summer Collection Now Live","link":"#summer"},
          {"text":"Exclusive Member Discounts","link":"#members"},
          {"text":"Free Returns on All Orders","link":"#returns"}
        ]'
        data-speed="15"
        data-bg="linear-gradient(90deg, #f093fb 0%, #f5576c 100%)"
        data-color="#ffffff"
        data-closeable="false"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 4: Slow Speed</h3>
      <offer-scroller
        data-items='[
          {"text":"📢 Important: Store hours updated","link":"#hours"},
          {"text":"📞 Customer support: 1-800-EXAMPLE","link":"#support"}
        ]'
        data-speed="5"
        data-bg="#48bb78"
        data-color="#ffffff"
        data-closeable="true"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 5: No Pause on Hover</h3>
      <offer-scroller
        data-items='[
          {"text":"🚀 Continuous scrolling - won't pause on hover","link":"#"},
          {"text":"⚡ Always moving for maximum visibility","link":"#"}
        ]'
        data-animation="scroll"
        data-speed="12"
        data-bg="#805ad5"
        data-color="#ffffff"
        data-pause-on-hover="false"
        data-closeable="true"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 6: Link Underlines on Hover</h3>
      <offer-scroller
        data-items='[
          {"text":"Hover over links to see underlines","link":"#"},
          {"text":"Traditional link styling enabled","link":"#"}
        ]'
        data-animation="slide"
        data-slide-duration="3000"
        data-bg="#38b2ac"
        data-color="#ffffff"
        data-show-link-underline="true"
        data-closeable="true"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 7: Both Options Combined</h3>
      <offer-scroller
        data-items='[
          {"text":"No pause + underlines enabled","link":"#"},
          {"text":"Full control over hover behavior","link":"#"}
        ]'
        data-animation="scroll"
        data-speed="10"
        data-bg="#e53e3e"
        data-color="#ffffff"
        data-pause-on-hover="false"
        data-show-link-underline="true"
        data-closeable="true"
      ></offer-scroller>
      
      <div class="demo-spacer">Content Area</div>
      
      <h3>Example 8: Bottom Placement</h3>
      <p>Scroll to the bottom of the page to see a sticky bottom scroller.</p>
    </div>

    <!-- Configuration -->
    <div class="demo-section">
      <h2>⚙️ Configuration</h2>
      
      <h3>Attributes</h3>
      <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
        <thead>
          <tr style="background: #edf2f7; text-align: left;">
            <th style="padding: 12px; border: 1px solid #cbd5e0;">Attribute</th>
            <th style="padding: 12px; border: 1px solid #cbd5e0;">Type</th>
            <th style="padding: 12px; border: 1px solid #cbd5e0;">Default</th>
            <th style="padding: 12px; border: 1px solid #cbd5e0;">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-items</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">JSON Array</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Default message</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Array of {text, link?, target?} objects</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-speed</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Number</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">12</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Scroll speed in pixels per second</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-placement</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">String</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">"top"</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">"top" or "bottom"</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-bg</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">CSS Color</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">#111</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Background color or gradient</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-color</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">CSS Color</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">#fff</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Text color</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-closeable</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Boolean</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">false</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Show close button</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-persist</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">String</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">"local"</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">"local" or "session" storage</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-aria-label</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">String</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">"Promotional offers"</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Accessibility label</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-class</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">String</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">""</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Custom class for theming hooks</td>
          </tr>
          <tr>
            <td style="padding: 12px; border: 1px solid #cbd5e0;"><code>data-height</code></td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">CSS Value</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">auto</td>
            <td style="padding: 12px; border: 1px solid #cbd5e0;">Custom height (e.g., "50px", "3rem", "10vh")</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- JavaScript API -->
    <div class="demo-section">
      <h2>🔧 JavaScript API</h2>
      <p>Control the scroller programmatically:</p>

      
      <div class="code-block">
<code>const scroller = document.querySelector('offer-scroller');

// Close the scroller
scroller.close();

// Show the scroller
scroller.show();

// Update items dynamically
scroller.updateItems([
  { text: 'New offer!', link: '/new' }
]);</code>
      </div>
      
      <div class="controls">
        <button onclick="testClose()">Close First Scroller</button>
        <button onclick="testShow()">Show First Scroller</button>
        <button onclick="testUpdate()">Update Items</button>
        <button onclick="clearLog()">Clear Event Log</button>
      </div>
      
      <div id="eventLog" class="event-log">
        <div>Event log ready... Try interacting with the scrollers above.</div>
      </div>
    </div>

    <!-- Events -->
    <div class="demo-section">
      <h2>📡 Custom Events</h2>
      <p>Listen to scroller events for analytics integration:</p>
      
      <div class="code-block">
<code>const scroller = document.querySelector('offer-scroller');

scroller.addEventListener('offer-scroller:open', (e) => {
  console.log('Scroller opened', e.detail);
});

scroller.addEventListener('offer-scroller:close', (e) => {
  console.log('Scroller closed', e.detail);
});

scroller.addEventListener('offer-scroller:hidden', (e) => {
  console.log('Scroller hidden (previously closed)', e.detail);
});</code>
      </div>
    </div>

    <!-- Accessibility -->
    <div class="demo-section">
      <h2>♿ Accessibility Features</h2>
      <ul style="list-style: none; padding-left: 0;">
        <li style="padding: 8px 0;">✅ Keyboard navigable (Tab to focus links and close button)</li>
        <li style="padding: 8px 0;">✅ ARIA labels and roles for screen readers</li>
        <li style="padding: 8px 0;">✅ Respects <code>prefers-reduced-motion</code> (animation pauses)</li>
        <li style="padding: 8px 0;">✅ Pause on hover and focus for better readability</li>
        <li style="padding: 8px 0;">✅ Minimum 44px tap targets for mobile accessibility</li>
        <li style="padding: 8px 0;">✅ High contrast mode support</li>
        <li style="padding: 8px 0;">✅ Semantic HTML with proper link relationships</li>
      </ul>
    </div>

    <!-- Browser Support -->
    <div class="demo-section">
      <h2>🌐 Browser Support</h2>
      <p>Works in all modern browsers that support Custom Elements and Shadow DOM:</p>
      <ul style="padding-left: 20px; color: #4a5568;">
        <li>Chrome/Edge 67+</li>
        <li>Firefox 63+</li>
        <li>Safari 10.1+</li>
        <li>Opera 54+</li>
      </ul>
      <p style="margin-top: 1rem;"><strong>Note:</strong> IE11 is not supported (requires polyfills).</p>
    </div>

    <!-- Troubleshooting -->
    <div class="demo-section">
      <h2>🔍 Troubleshooting</h2>
      
      <h3>Scroller not appearing?</h3>
      <ul style="padding-left: 20px; color: #4a5568;">
        <li>Check browser console for errors</li>
        <li>Verify the script is loaded: <code>console.log(window.OfferScrollerWidgetVersion)</code></li>
        <li>Ensure <code>data-items</code> is valid JSON</li>
        <li>Check if it was previously closed (clear localStorage)</li>
      </ul>
      
      <h3>Styling conflicts?</h3>
      <ul style="padding-left: 20px; color: #4a5568;">
        <li>Shadow DOM isolates styles, but check z-index conflicts</li>
        <li>Use <code>data-class</code> and CSS custom properties for theming</li>
      </ul>
      
      <h3>Animation not smooth?</h3>
      <ul style="padding-left: 20px; color: #4a5568;">
        <li>Reduce <code>data-speed</code> value</li>
        <li>Check for browser performance issues</li>
        <li>Animation pauses with <code>prefers-reduced-motion</code></li>
      </ul>
    </div>

    <!-- Need Help -->
    <div class="demo-section" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
      <h2 style="color: white; border-color: white;">💬 Need Help?</h2>
      <p style="color: rgba(255,255,255,0.9);">
        Need a custom variant or theme-styled version? Reach out to our team — we'll convert and style it for you.
      </p>
      <button style="background: white; color: #667eea; border: none; padding: 12px 24px; border-radius: 6px; font-weight: 600; cursor: pointer; margin-top: 1rem;">
        Contact Support
      </button>
    </div>
  </div>

  <!-- Bottom scroller example -->
  <offer-scroller
    data-items='[
      {"text":"📍 Visit our new store location","link":"#location"},
      {"text":"💌 Subscribe to our newsletter","link":"#newsletter"},
      {"text":"🎯 Follow us on social media","link":"#social"}
    ]'
    data-speed="8"
    data-bg="#2d3748"
    data-color="#f7fafc"
    data-placement="bottom"
    data-closeable="true"
  ></offer-scroller>

  <!-- Load the widget (for demo, using local build) -->
  <script src="./dist/offer-scroller.min.js"></script>

  <!-- Demo JavaScript -->
  <script>
    // Event logging
    const eventLog = document.getElementById('eventLog');
    
    function logEvent(message) {
      const div = document.createElement('div');
      div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
      eventLog.insertBefore(div, eventLog.firstChild);
      
      // Keep only last 20 events
      while (eventLog.children.length > 20) {
        eventLog.removeChild(eventLog.lastChild);
      }
    }
    
    // Listen to all scrollers
    document.querySelectorAll('offer-scroller').forEach((scroller, index) => {
      scroller.addEventListener('offer-scroller:open', (e) => {
        logEvent(`Scroller #${index + 1} opened`);
      });
      
      scroller.addEventListener('offer-scroller:close', (e) => {
        logEvent(`Scroller #${index + 1} closed (persist: ${e.detail.persist})`);
      });
      
      scroller.addEventListener('offer-scroller:hidden', (e) => {
        logEvent(`Scroller #${index + 1} hidden (${e.detail.reason})`);
      });
      
      scroller.addEventListener('offer-scroller:show', (e) => {
        logEvent(`Scroller #${index + 1} shown`);
      });
    });
    
    // Test functions
    function testClose() {
      const scroller = document.querySelector('offer-scroller');
      if (scroller) {
        scroller.close();
        logEvent('Called close() on first scroller');
      }
    }
    
    function testShow() {
      const scroller = document.querySelector('offer-scroller');
      if (scroller) {
        scroller.show();
        logEvent('Called show() on first scroller');
      }
    }
    
    function testUpdate() {
      const scroller = document.querySelector('offer-scroller');
      if (scroller) {
        scroller.updateItems([
          { text: '🎉 Updated offer #1', link: '#new1' },
          { text: '🚀 Updated offer #2', link: '#new2' },
          { text: '💎 Updated offer #3', link: '#new3' }
        ]);
        logEvent('Updated items on first scroller');
      }
    }
    
    function clearLog() {
      eventLog.innerHTML = '<div>Event log cleared.</div>';
    }
    
    // Log version on load
    if (window.OfferScrollerWidgetVersion) {
      logEvent(`Widget loaded - v${window.OfferScrollerWidgetVersion}`);
    }
  </script>
</body>
</html>
